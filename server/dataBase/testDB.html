<!DOCTYPE html>
<html>
<head>
    <title>Test Database Functions</title>
</head>
<body>
    <h1>Testing TaskDB and UserDB</h1>
    <script src="userDB.js"></script>
    <script src="taskDB.js"></script>
    <script>
        // ×™×¦×™×¨×ª ××•×¤×¢×™× ×©×œ ××—×œ×§×•×ª ×”-DB
        const userDB = new UserDB();
        const taskDB = new TaskDB();

        // × ×™×§×•×™ ×”-Local Storage ×œ×¤× ×™ ×”×‘×“×™×§×•×ª
        localStorage.clear();

        // ×‘×“×™×§×•×ª ×œ××©×ª××©×™×
        console.log("ğŸ” ×‘×“×™×§×•×ª ××—×œ×§×ª UserDB");

        console.log("ğŸŸ¢ ×”×•×¡×¤×ª ××©×ª××©×™×:");
        console.log(userDB.addUser("bob", "miri2451@@@", "pass123"));
        console.log(userDB.addUser("alice", "alice@@@", "password"));
        console.log(userDB.addUser("charlie", "charlie@@@", "charlie123"));

        console.log("ğŸŸ  × ×™×¡×™×•×Ÿ ×œ×”×•×¡×™×£ ××©×ª××© ×§×™×™×:");
        console.log(userDB.addUser("bob", "hila@@@", "bobi123"));

        console.log("ğŸŸ¢ ×©×œ×™×¤×ª ××©×ª××© ×§×™×™×:");
        console.log(userDB.searchUser("alice"));

        console.log("ğŸŸ¢ ×¢×“×›×•×Ÿ ××©×ª××©:");
        console.log(userDB.updateUser("alice", { password: "newPassword" }));
        console.log(userDB.loadUsers());

        console.log("ğŸŸ¢ ××—×™×§×ª ××©×ª××©:");
        console.log(userDB.deleteUser("alice"));
        console.log(userDB.loadUsers());

        console.log("ğŸŸ  ××—×™×§×ª ××©×ª××© ×©×œ× ×§×™×™×:");
        console.log(userDB.deleteUser("alice"));

        console.log("ğŸŸ¢ ×©×œ×™×¤×ª ×›×œ ×”××©×ª××©×™×:");
        console.log(userDB.getUsers());

        // ×‘×“×™×§×•×ª ×œ××©×™××•×ª
        console.log("\nğŸ” ×‘×“×™×§×•×ª ××—×œ×§×ª TaskDB");

        console.log("ğŸŸ¢ ×”×•×¡×¤×ª ××©×™××•×ª:");
        console.log(taskDB.addTask("Finish homework", "Math and Science", "bob", "high", "studies", false));
        console.log(taskDB.addTask("Clean house", "Living room and kitchen", "charlie", "medium", "home", false));
        console.log(taskDB.addTask("Pay bills", "Electricity and water", "bob", "low", "finances", false));

        console.log("ğŸŸ¢ ×©×œ×™×¤×ª ××©×™××” ×œ×¤×™ ID:");
        console.log(taskDB.getTaskById(2));

        console.log("ğŸŸ¢ ×©×œ×™×¤×ª ××©×™××•×ª ×©×œ bob:");
        console.log(taskDB.getTasksByUser("bob"));

        console.log("ğŸŸ¢ ×¢×“×›×•×Ÿ ××©×™××” ×§×™×™××ª:");
        console.log(taskDB.updateTask(1, {
            title: "Complete homework",
            desc: "All subjects",
            priority: "low",
            category: "studies",
            status: true
        }));
        console.log(taskDB.loadTasks());

        console.log("ğŸŸ¢ ××—×™×§×ª ××©×™××”:");
        console.log(taskDB.deleteTask(2));
        console.log(taskDB.loadTasks());

        console.log("ğŸŸ  ××—×™×§×ª ××©×™××” ×©×œ× ×§×™×™××ª:");
        console.log(taskDB.deleteTask(9999));

        console.log("ğŸŸ¢ ×©×œ×™×¤×ª ×›×œ ×”××©×™××•×ª:");
        console.log(taskDB.loadTasks());

        // ×‘×“×™×§×ª ××¦×‘ ×”-Local Storage
        console.log("\nğŸ” ×‘×“×™×§×” ×¡×•×¤×™×ª ×©×œ Local Storage:");
        for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            console.log(`ğŸ”‘ Key: ${key}`, "ğŸ—ƒï¸ Value:", JSON.parse(localStorage.getItem(key)));
        }
    </script>
</body>
</html>
